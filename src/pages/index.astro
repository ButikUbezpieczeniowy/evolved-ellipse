---
// Importujemy wszystkie komponenty
import Naglowek from '../components/Naglowek.astro';
import Hero from '../components/Hero.astro';
import ProblemRozwiazanie from '../components/ProblemRozwiazanie.astro';
import KluczoweProdukty from '../components/KluczoweProdukty.astro';
import Opinie from '../components/Opinie.astro';
import CTA from '../components/CTA.astro';
import Stopka from '../components/Stopka.astro';
import Analytics from '../components/Analytics.astro';
// 1. IMPORTUJEMY KOMPONENT SEKCJI FAQ:
import FAQSection from '../components/FAQSection.astro'; 

// 2. IMPORTUJEMY FUNKCJĘ POBIERAJĄCĄ DANE Z GEMINI API:
import generateFAQContent from '../ai/gemini-logic.js'; 

// 3. DEFINIUJEMY TEMAT I POBIERAMY DANE PRZED RENDEROWANIEM (server-side rendering)
const topic = "Ogólne ubezpieczenia dla firm i osób prywatnych - WZORZEC AKTYWNY";
const faqData = await generateFAQContent(topic);
---

<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Galeria Ubezpieczeniowa - BIBLIA LANDING PAGES - WZORZEC AKTYWNY</title>
    
    <meta name="description" content="[TUTAJ WPISZ UNIKALNY OPIS STRONY. DLA WZORCA JEST TO PUSTY TEKST.]" />

    <meta property="og:title" content="Galeria Ubezpieczeniowa - WZORZEC AKTYWNY" />
    <meta property="og:description" content="[TUTAJ WPISZ UNIKALNY OPIS META DLA SOCIAL MEDIA]" />
    <meta property="og:type" content="website" />
    <Analytics />
// Używamy obiektu Astro, aby pobrać pełny adres URL
const canonicalURL = new URL(Astro.url.pathname, Astro.site).href;
---

<html lang="pl">
  <head>
    <link rel="canonical" href={canonicalURL} />
  </head>
  <body></body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T958KD9G"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    
    <Naglowek />
    <main>
      <Hero />
      <ProblemRozwiazanie />
      <KluczoweProdukty />
      
      <FAQSection data={faqData} />
      
      <Opinie />
      <CTA />
    </main>
    <Stopka />
  </body>
</html>